{"ast":null,"code":"var _jsxFileName = \"C:\\\\Work\\\\WebApp\\\\shopscript\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from 'react-router-dom';\nimport Add from './components/member/Add';\nimport List from './components/List';\nimport axios from \"axios\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport Logout from \"./components/Logout\";\nimport { routes } from \"./include/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [user, setUser] = useState({\n    accessToken: '',\n    isLoggedIn: false,\n    username: ''\n  });\n\n  // Get user login data\n  const getUserData = () => {\n    if (localStorage.getItem('user') !== null) {\n      setUser({\n        ...user,\n        accessToken: JSON.parse(localStorage.getItem('user')).accessToken !== null ? JSON.parse(localStorage.getItem('user')).accessToken : '',\n        username: JSON.parse(localStorage.getItem('user')).username !== null ? JSON.parse(localStorage.getItem('user')).username : '',\n        isLoggedIn: JSON.parse(localStorage.getItem('user')).accessToken !== null\n      });\n    }\n  };\n  useEffect(() => {\n    axios.get(\"http://localhost:8081/api/event\").then(res => setEvents(res.data)).catch(err => console.log(err));\n  }, [events]);\n  useEffect(() => {\n    //console.log(user)\n    // Tarkistetaan onko säiliössä \"user\"-objekti\n    getUserData();\n  }, [user.isLoggedIn]);\n  const padding = {\n    padding: 5\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"nav\",\n          children: [user.isLoggedIn ? /*#__PURE__*/_jsxDEV(Link, {\n            style: padding,\n            to: routes.event.ADD_EVENT_ROUTE,\n            children: \"add event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 40\n          }, this) : '', /*#__PURE__*/_jsxDEV(Link, {\n            style: padding,\n            to: \"/list\",\n            children: \"list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"nav\",\n          children: user.isLoggedIn ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Hello, \", user.username, \"! \", /*#__PURE__*/_jsxDEV(Link, {\n              style: padding,\n              to: \"/logout\",\n              children: \"logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 74\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(Link, {\n            style: padding,\n            to: \"/login\",\n            children: \"login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 132\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: routes.event.ADD_EVENT_ROUTE,\n          children: /*#__PURE__*/_jsxDEV(Add, {\n            events: events\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/list\",\n          children: /*#__PURE__*/_jsxDEV(List, {\n            events: events\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            setUserData: getUserData,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/logout\",\n          children: /*#__PURE__*/_jsxDEV(Logout, {\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"fEcF6yPehcNTCtfuI23Xms1EIFA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Switch","Route","Link","useHistory","Add","List","axios","Login","Signup","Logout","routes","jsxDEV","_jsxDEV","App","_s","events","setEvents","user","setUser","accessToken","isLoggedIn","username","getUserData","localStorage","getItem","JSON","parse","get","then","res","data","catch","err","console","log","padding","className","children","style","to","event","ADD_EVENT_ROUTE","fileName","_jsxFileName","lineNumber","columnNumber","path","exact","setUserData","_c","$RefreshReg$"],"sources":["C:/Work/WebApp/shopscript/frontend/src/App.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch, Route, Link, useHistory\r\n} from 'react-router-dom'\r\n\r\nimport Add from './components/member/Add'\r\nimport List from './components/List'\r\nimport axios from \"axios\";\r\nimport Login from \"./components/Login\";\r\nimport Signup from \"./components/Signup\";\r\nimport Logout from \"./components/Logout\";\r\nimport {routes} from \"./include/constants\";\r\n\r\n\r\nconst App = () => {\r\n\r\n\r\n\r\n    const [events, setEvents] = useState([]);\r\n\r\n        const [user, setUser] = useState({\r\n            accessToken: '',\r\n            isLoggedIn: false,\r\n            username: ''\r\n        })\r\n\r\n    // Get user login data\r\n    const getUserData = () => {\r\n        if( localStorage.getItem('user') !== null  ) {\r\n\r\n            setUser({...user,\r\n                accessToken:\r\n                    JSON.parse(localStorage.getItem('user')).accessToken !== null ?\r\n                        JSON.parse(localStorage.getItem('user')).accessToken : '',\r\n                username:\r\n                    JSON.parse(localStorage.getItem('user')).username !== null ?\r\n                        JSON.parse(localStorage.getItem('user')).username : '',\r\n                isLoggedIn:\r\n                    JSON.parse(localStorage.getItem('user')).accessToken !== null\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n   useEffect(()=> {\r\n        axios\r\n            .get(\"http://localhost:8081/api/event\")\r\n            .then((res) => setEvents(res.data))\r\n            .catch((err) => console.log(err));\r\n    }, [events]);\r\n\r\n    useEffect(()=> {\r\n\r\n        //console.log(user)\r\n        // Tarkistetaan onko säiliössä \"user\"-objekti\r\n        getUserData();\r\n\r\n    }, [user.isLoggedIn]);\r\n\r\n    const padding = {\r\n        padding: 5\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <Router>\r\n                <nav>\r\n                <span className=\"nav\">\r\n                    {user.isLoggedIn ? <Link style={padding} to={routes.event.ADD_EVENT_ROUTE}>add event</Link> : ''}\r\n                    <Link style={padding} to=\"/list\">list</Link>\r\n                </span>\r\n                    <span className=\"nav\">\r\n                        {user.isLoggedIn ? <span>Hello, {user.username}! <Link style={padding} to=\"/logout\">logout</Link></span> : <Link style={padding} to=\"/login\">login</Link>}\r\n                    </span>\r\n                </nav>\r\n\r\n\r\n                <Switch>\r\n                    <Route path={routes.event.ADD_EVENT_ROUTE}>\r\n                        <Add events={events} />\r\n                    </Route>\r\n                    <Route path=\"/list\">\r\n                        <List events={events}/>\r\n                    </Route>\r\n                    <Route exact path=\"/login\">\r\n                        <Login setUserData={getUserData}  user={user} />\r\n                    </Route>\r\n                    <Route path=\"/signup\">\r\n                        <Signup />\r\n                    </Route>\r\n                    <Route exact path=\"/logout\">\r\n                        <Logout user={user}/>\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}